(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{79:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return s}));var a=n(2),r=n(6),o=(n(0),n(92)),i={id:"reports",title:"Reports"},l={unversionedId:"reports",id:"reports",isDocsHomePage:!1,title:"Reports",description:"API Calls",source:"@site/docs/reports.md",slug:"/reports",permalink:"/argo-web-api/docs/reports",version:"current",sidebar:"someSidebar",previous:{title:"Threshold Profiles",permalink:"/argo-web-api/docs/threshold_profiles"},next:{title:"A/R results",permalink:"/argo-web-api/docs/ar_results"}},p=[{value:"API Calls",id:"api-calls",children:[]},{value:"GET: List Reports",id:"get-list-reports",children:[{value:"Input",id:"input",children:[]},{value:"Response",id:"response",children:[]}]},{value:"POST: Create a new report",id:"post-create-a-new-report",children:[{value:"Input",id:"input-1",children:[]},{value:"Response",id:"response-1",children:[]}]},{value:"PUT: Update an existing report",id:"put-update-an-existing-report",children:[{value:"Input",id:"input-2",children:[]},{value:"Response",id:"response-2",children:[]}]},{value:"DELETE: Delete an existing report",id:"delete-delete-an-existing-report",children:[{value:"Input",id:"input-3",children:[]},{value:"Response",id:"response-3",children:[]}]},{value:"Notes on Report Filter tags and topology",id:"notes-on-report-filter-tags-and-topology",children:[]},{value:"Notes on Optional profile references",id:"notes-on-optional-profile-references",children:[]}],c={rightToc:p};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"api-calls"},"API Calls"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Name"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Shortcut"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"GET: List reports or single report"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"This method can be used to retrieve a list of existing reports"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"#1"})," Description"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"POST: Create a new report"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"This method can be used to create a new report."),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"#2"})," Description"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"PUT: Update an existing report"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"This method can be used to update an existing report."),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"#3"})," Description"))),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"DELETE: Delete an existing Report"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"This method can be used to delete an existing report."),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("a",Object(a.a)({parentName:"td"},{href:"#4"})," Description"))))),Object(o.b)("a",{id:"1"}),Object(o.b)("h2",{id:"get-list-reports"},"[GET]",": List Reports"),Object(o.b)("p",null,"This method can be used to retrieve a list of existing reports or a single report according to its ID."),Object(o.b)("h3",{id:"input"},"Input"),Object(o.b)("h4",{id:"url"},"URL"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"/reports\nor\n/reports/{id}\n")),Object(o.b)("h4",{id:"request-headers"},"Request headers"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"x-api-key: shared_key_value\nAccept: application/json\n")),Object(o.b)("h3",{id:"response"},"Response"),Object(o.b)("p",null,"Headers: ",Object(o.b)("inlineCode",{parentName:"p"},"Status: 200 OK")),Object(o.b)("h4",{id:"response-body"},"Response body"),Object(o.b)("p",null,"Json Response"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "id": "eba61a9e-22e9-4521-9e47-ecaa4a494364",\n            "tenant": "TenantA",\n            "disabled": false,\n            "info": {\n                "name": "Report_A",\n                "description": "report aaaaa",\n                "created": "2015-9-10 13:43:00",\n                "updated": "2015-10-11 13:43:00"\n            },\n            "topology_schema": {\n                "group": {\n                    "type": "NGI",\n                    "group": {\n                        "type": "SITE"\n                    }\n                }\n            },\n            "thresholds": {\n                "availability": 80.0,\n                "reliability": 85.0,\n                "uptime": 80.0,\n                "unknown": 10.0,\n                "downtime": 10.0\n            },\n            "profiles": [\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50b",\n                    "name": "profile1",\n                    "type": "metric"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e523",\n                    "name": "profile2",\n                    "type": "operations"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50q",\n                    "name": "profile3",\n                    "type": "aggregation"\n                }\n            ],\n            "filter_tags": [\n                {\n                    "name": "name1",\n                    "value": "value1",\n                    "context": ""\n                },\n                {\n                    "name": "name2",\n                    "value": "value2",\n                    "context": ""\n                }\n            ]\n        }\n    ]\n}\n')),Object(o.b)("a",{id:"2"}),Object(o.b)("h2",{id:"post-create-a-new-report"},"[POST]",": Create a new report"),Object(o.b)("p",null,"This method can be used to create a new report"),Object(o.b)("h3",{id:"input-1"},"Input"),Object(o.b)("h4",{id:"url-1"},"URL"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"POST /reports\n")),Object(o.b)("h4",{id:"request-headers-1"},"Request headers"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"x-api-key: shared_key_value\nAccept: application/json\n")),Object(o.b)("h4",{id:"request-body"},"Request Body"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "info": {\n        "name": "Report_A",\n        "description": "report aaaaa"\n    },\n    "topology_schema": {\n        "group": {\n            "type": "ngi",\n            "group": {\n                "type": "site"\n            }\n        }\n    },\n    "thresholds": {\n        "availability": 80.0,\n        "reliability": 85.0,\n        "uptime": 80.0,\n        "unknown": 10.0,\n        "downtime": 10.0\n    },\n    "profiles": [\n        {\n            "id": "422985a7-6386-4964-bc99-5ebd5d7b0aef",\n            "type": "metric"\n        },\n        {\n            "id": "1aa74849-2310-4bbc-b63a-8995ac7888ea",\n            "type": "aggregation"\n        },\n        {\n            "id": "1eafbdd1-1bbc-4861-b849-65394840762",\n            "type": "operations"\n        }\n    ],\n    "filter_tags": [\n        {\n            "name": "production",\n            "value": "N"\n        },\n        {\n            "name": "monitored",\n            "value": "Y"\n        }\n    ]\n}\n')),Object(o.b)("h3",{id:"response-1"},"Response"),Object(o.b)("p",null,"Headers: ",Object(o.b)("inlineCode",{parentName:"p"},"Status: 201 Created")),Object(o.b)("h4",{id:"response-body-1"},"Response Body"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "message": "Successfully Created Report",\n        "code": "201"\n    },\n    "data": {\n        "id": "eba61a9e-22e9-4521-9e47-ecaa4a494360",\n        "links": {\n            "self": "https://myapi.test.com/api/v2/reports/eba61a9e-22e9-4521-9e47-ecaa4a494360"\n        }\n    }\n}\n')),Object(o.b)("a",{id:"3"}),Object(o.b)("h2",{id:"put-update-an-existing-report"},"[PUT]",": Update an existing report"),Object(o.b)("p",null,"This method can be used to update an existing report. This will replace all the fields in the record so all the old fields that need to be kept must be included in the json of the update request body"),Object(o.b)("h3",{id:"input-2"},"Input"),Object(o.b)("h4",{id:"url-2"},"URL"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"/reports/{id}\n")),Object(o.b)("h4",{id:"request-headers-2"},"Request headers"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"x-api-key: shared_key_value\nAccept: application/json\n")),Object(o.b)("h4",{id:"request-body-1"},"Request Body"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "disabled": true,\n    "weight": "hepspec",\n    "info": {\n        "name": "newname",\n        "description": "newdescription"\n    },\n    "topology_schema": {\n        "group": {\n            "type": "ngi",\n            "group": {\n                "type": "fight"\n            }\n        }\n    },\n    "thresholds": {\n        "availability": 90.0,\n        "reliability": 95.0,\n        "uptime": 90.0,\n        "unknown": 15.0,\n        "downtime": 15.0\n    },\n    "profiles": [\n        {\n            "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50b",\n            "type": "metric",\n            "name": "profile1"\n        },\n        {\n            "id": "6ac7d684-1f8e-4a02-a502-720e8f11e523",\n            "type": "operations",\n            "name": "profile2"\n        },\n        {\n            "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50bq",\n            "type": "aggregation",\n            "name": "profile3"\n        }\n    ],\n    "filter_tags": [\n        {\n            "name": "production",\n            "value": "N"\n        },\n        {\n            "name": "monitored",\n            "value": "N"\n        }\n    ]\n}\n')),Object(o.b)("h3",{id:"response-2"},"Response"),Object(o.b)("p",null,"Headers: ",Object(o.b)("inlineCode",{parentName:"p"},"Status: 200 OK")),Object(o.b)("h4",{id:"response-body-2"},"Response Body"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "message": "Report was successfully updated",\n        "code": "200"\n    }\n}\n')),Object(o.b)("a",{id:"4"}),Object(o.b)("h2",{id:"delete-delete-an-existing-report"},"[DELETE]",": Delete an existing report"),Object(o.b)("p",null,"This method can be used to update an existing report"),Object(o.b)("h3",{id:"input-3"},"Input"),Object(o.b)("h4",{id:"url-3"},"URL"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"DELETE /reports/{id}\n")),Object(o.b)("h4",{id:"request-headers-3"},"Request headers"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"x-api-key: shared_key_value\nAccept: application/json\n")),Object(o.b)("h3",{id:"response-3"},"Response"),Object(o.b)("p",null,"Headers: ",Object(o.b)("inlineCode",{parentName:"p"},"Status: 200 OK")),Object(o.b)("h4",{id:"response-body-3"},"Response Body"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "message": "Report was successfully deleted",\n        "code": "200"\n    }\n}\n')),Object(o.b)("a",{id:"5"}),Object(o.b)("h2",{id:"notes-on-report-filter-tags-and-topology"},"Notes on Report Filter tags and topology"),Object(o.b)("p",null,"As we seen before a report can host a list of filter tags using the following list under the filed ",Object(o.b)("inlineCode",{parentName:"p"},"filter_tags"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "filter_tags": [\n        {\n            "context": "a context description to define where the filter applies",\n            "name": "what to be filter",\n            "value": "filter pattern described here"\n        }\n    ]\n}\n')),Object(o.b)("p",null,"There are special argo contextes that are automatically picked up to filter group and endpoint topology. These contexts are described below:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"context:")," ",Object(o.b)("inlineCode",{parentName:"li"},"argo.group.filter.fields")," - Used to apply filter on basic fields of group topology. Under this context the ",Object(o.b)("inlineCode",{parentName:"li"},"name")," targets the group field name and the ",Object(o.b)("inlineCode",{parentName:"li"},"value")," holds the actual field pattern"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"context:")," ",Object(o.b)("inlineCode",{parentName:"li"},"argo.group.filter.tags")," - Used to apply filter on tags of group topology. Under this context the ",Object(o.b)("inlineCode",{parentName:"li"},"name")," targets the group tag name and the ",Object(o.b)("inlineCode",{parentName:"li"},"value")," holds the actual field pattern"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"context:")," ",Object(o.b)("inlineCode",{parentName:"li"},"argo.group.filter.tags.array")," - Used to apply filter, containing a list of comma separated values, on tags of group topology. Under this context the ",Object(o.b)("inlineCode",{parentName:"li"},"name")," targets the group tag name and the ",Object(o.b)("inlineCode",{parentName:"li"},"value")," holds the actual field pattern"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"context:")," ",Object(o.b)("inlineCode",{parentName:"li"},"argo.endpoint.filter.fields")," - Used to apply filter on basic fields of endpoint topology. Under this context the ",Object(o.b)("inlineCode",{parentName:"li"},"name")," targets the endpoint field name and the ",Object(o.b)("inlineCode",{parentName:"li"},"value")," holds the actual field pattern"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"context:")," ",Object(o.b)("inlineCode",{parentName:"li"},"argo.endpoint.filter.tags")," - Used to apply filter on tags of endpoint topology. Under this context the ",Object(o.b)("inlineCode",{parentName:"li"},"name")," targets the endpoint tag name and the ",Object(o.b)("inlineCode",{parentName:"li"},"value")," holds the actual field pattern"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("em",{parentName:"li"},"context:")," ",Object(o.b)("inlineCode",{parentName:"li"},"argo.endpoint.filter.tags.array")," - Used to apply filter, containing a list of comma separated values, on tags of endpoint topology. Under this context the ",Object(o.b)("inlineCode",{parentName:"li"},"name")," targets the endpoint tag name and the ",Object(o.b)("inlineCode",{parentName:"li"},"value")," holds the actual field pattern")),Object(o.b)("p",null,Object(o.b)("em",{parentName:"p"},"note")," : You can use ",Object(o.b)("inlineCode",{parentName:"p"},"~")," as a negative operator in the beginning of a filter value to exclude something: For example you can exclude endpoints with service of value ",Object(o.b)("inlineCode",{parentName:"p"},"SERVICE_A")," by issuing the following filter tag in the report:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "context": "argo.endpoint.filter.fields",\n    "name": "service",\n    "value": "~SERVICE_A"\n}\n')),Object(o.b)("a",{id:"6"}),Object(o.b)("h2",{id:"notes-on-optional-profile-references"},"Notes on Optional profile references"),Object(o.b)("p",null,"In the report's ",Object(o.b)("inlineCode",{parentName:"p"},"profiles")," list of references, along with the mandatory ",Object(o.b)("inlineCode",{parentName:"p"},"metric"),", ",Object(o.b)("inlineCode",{parentName:"p"},"operations")," and ",Object(o.b)("inlineCode",{parentName:"p"},"aggregation")," profiles, the user can declare references to the optinally used ",Object(o.b)("inlineCode",{parentName:"p"},"thresholds")," and ",Object(o.b)("inlineCode",{parentName:"p"},"weights")," profiles. User of the report must ensure that the declared reference ",Object(o.b)("inlineCode",{parentName:"p"},"ids")," are legit for each corresponding profile type. "),Object(o.b)("p",null,"Example of report with all profile type references declared:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "id": "eba61a9e-22e9-4521-9e47-ecaa4a494364",\n            "tenant": "TenantA",\n            "disabled": false,\n            "info": {\n                "name": "Report_A",\n                "description": "report aaaaa",\n                "created": "2015-9-10 13:43:00",\n                "updated": "2015-10-11 13:43:00"\n            },\n            "topology_schema": {\n                "group": {\n                    "type": "NGI",\n                    "group": {\n                        "type": "SITE"\n                    }\n                }\n            },\n            "thresholds": {\n                "availability": 80.0,\n                "reliability": 85.0,\n                "uptime": 80.0,\n                "unknown": 10.0,\n                "downtime": 10.0\n            },\n            "profiles": [\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50b",\n                    "name": "profile1",\n                    "type": "metric"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e523",\n                    "name": "profile2",\n                    "type": "operations"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50q",\n                    "name": "profile3",\n                    "type": "aggregation"\n                },\n                {\n                    "id": "vac7d684-1f8e-4a02-a502-720e8f11e555",\n                    "name": "profile_38393",\n                    "type": "thresholds"\n                },\n                {\n                    "id": "rac65684-ff8e-5a02-6502-720e8f11e50q",\n                    "name": "profile_393",\n                    "type": "weights"\n                }\n            ],\n            "filter_tags": [\n                {\n                    "name": "name1",\n                    "value": "value1",\n                    "context": ""\n                },\n                {\n                    "name": "name2",\n                    "value": "value2",\n                    "context": ""\n                }\n            ]\n        }\n    ]\n}\n')),Object(o.b)("p",null,"During report creation, in case of wrong profile type reference defined or wrong profile uuid the following type of error will occur as a response:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "status": {\n        "message": "Unprocessable Entity",\n        "code": "422"\n    },\n    "errors": [\n        {\n            "message": "Profile id not found",\n            "code": "422",\n            "details": "No profile in operations_profiles was found with id 93930-wrong-id"\n        },\n        {\n            "message": "Profile type invalid",\n            "code": "422",\n            "details": "Profile type whatever_profile is invalid"\n        }\n    ]\n}\n')))}s.isMDXComponent=!0},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),s=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},b=function(e){var t=s(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),b=s(n),u=a,m=b["".concat(i,".").concat(u)]||b[u]||d[u]||o;return n?r.a.createElement(m,l(l({ref:t},c),{},{components:n})):r.a.createElement(m,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);