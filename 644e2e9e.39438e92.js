(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{74:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return b}));var a=n(2),r=n(6),i=(n(0),n(93)),l=["components"],s={id:"validations",title:"API Validations"},o={unversionedId:"validations",id:"validations",isDocsHomePage:!1,title:"API Validations",description:"Parameters validations",source:"@site/docs/validations.md",slug:"/validations",permalink:"/argo-web-api/docs/validations",version:"current",sidebar:"someSidebar",previous:{title:"Topology Statistics",permalink:"/argo-web-api/docs/topology_stats"},next:{title:"API Errors",permalink:"/argo-web-api/docs/errors"}},c=[{value:"Parameters validations",id:"parameters-validations",children:[{value:"<code>start_time</code>",id:"start_time",children:[]},{value:"<code>end_time</code>",id:"end_time",children:[]},{value:"<code>exec_time</code>",id:"exec_time",children:[]},{value:"<code>granularity</code>",id:"granularity",children:[]}]},{value:"Headers validations",id:"headers-validations",children:[{value:"<code>Accept</code>",id:"accept",children:[]}]}],d={rightToc:c};function b(e){var t=e.components,n=Object(r.a)(e,l);return Object(i.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"parameters-validations"},"Parameters validations"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"Name"),Object(i.b)("th",{parentName:"tr",align:null},"Affected Resources"),Object(i.b)("th",{parentName:"tr",align:null},"Verb"),Object(i.b)("th",{parentName:"tr",align:null},"Shortcut"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"start_time")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"/results"),", ",Object(i.b)("inlineCode",{parentName:"td"},"/status")),Object(i.b)("td",{parentName:"tr",align:null},"GET"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("a",{parentName:"td",href:"#1"},"Description"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"end_time")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"/results"),", ",Object(i.b)("inlineCode",{parentName:"td"},"/status")),Object(i.b)("td",{parentName:"tr",align:null},"GET"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("a",{parentName:"td",href:"#2"},"Description"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"exec_time")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"/metric_result")),Object(i.b)("td",{parentName:"tr",align:null},"GET"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("a",{parentName:"td",href:"#3"},"Description"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"granularity")),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"/results")),Object(i.b)("td",{parentName:"tr",align:null},"GET"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("a",{parentName:"td",href:"#4"},"Description"))))),Object(i.b)("a",{id:"1"}),Object(i.b)("h3",{id:"start_time"},Object(i.b)("inlineCode",{parentName:"h3"},"start_time")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"start_time")," query parameter is used under the ",Object(i.b)("inlineCode",{parentName:"p"},"/results")," and ",Object(i.b)("inlineCode",{parentName:"p"},"/status")," resources to define the starting time of the query used to match A/R or status results respectively. The value should be given in zulu format like so: ",Object(i.b)("inlineCode",{parentName:"p"},"2006-01-02T15:04:05Z"),"."),Object(i.b)("p",null,"In case the parameter is not provided the following response is returned"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "start_time not set",\n   "code": "400",\n   "details": "Please use start_time url parameter in zulu format (like 2006-01-02T15:04:05Z) to indicate the query start time"\n  }\n ]\n}\n')),Object(i.b)("p",null,"In case the parameter value is malformed (not in zulu expected format) the following response is returned:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "start_time parsing error",\n   "code": "400",\n   "details": "Error parsing date string %s please use zulu format like 2006-01-02T15:04:05Z"\n  }\n ]\n}\n')),Object(i.b)("a",{id:"2"}),Object(i.b)("h3",{id:"end_time"},Object(i.b)("inlineCode",{parentName:"h3"},"end_time")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"end_time")," query parameter is used under the ",Object(i.b)("inlineCode",{parentName:"p"},"/results")," and ",Object(i.b)("inlineCode",{parentName:"p"},"/status")," resources to define the ending time of the query used to match A/R or status results respectively. The value should be given in zulu format like so: ",Object(i.b)("inlineCode",{parentName:"p"},"2006-01-02T15:04:05Z"),"."),Object(i.b)("p",null,"In case the parameter is not provided the following response is returned"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "end_time not set",\n   "code": "400",\n   "details": "Please use end_time url parameter in zulu format (like 2006-01-02T15:04:05Z) to indicate the query end time"\n  }\n ]\n}\n')),Object(i.b)("p",null,"In case the parameter value is malformed (not in zulu expected format) the following response is returned:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "end_time parsing error",\n   "code": "400",\n   "details": "Error parsing date string %s please use zulu format like 2006-01-02T15:04:05Z"\n  }\n ]\n}\n')),Object(i.b)("h4",{id:"no-time-span-set"},"No time span set"),Object(i.b)("p",null,"In case neither the ",Object(i.b)("inlineCode",{parentName:"p"},"start_time")," nor the ",Object(i.b)("inlineCode",{parentName:"p"},"end_time")," parameters are defined the following response is returned by the api:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "No time span set",\n   "code": "400",\n   "details": "Please use start_time and end_time url parameters to set the prefered time span"\n  }\n ]\n}\n')),Object(i.b)("a",{id:"3"}),Object(i.b)("h3",{id:"exec_time"},Object(i.b)("inlineCode",{parentName:"h3"},"exec_time")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"exec_time")," query parameter is used under the ",Object(i.b)("inlineCode",{parentName:"p"},"/metric_result")," resource to define the execution time of the metric result to fetch from the datastore. The value should be given in zulu format like so: ",Object(i.b)("inlineCode",{parentName:"p"},"2006-01-02T15:04:05Z"),"."),Object(i.b)("p",null,"In case the parameter is not provided the following response is returned"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "exec_time not set",\n   "code": "400",\n   "details": "Please use exec_time url parameter in zulu format (like 2006-01-02T15:04:05Z) to indicate the exact probe execution time"\n  }\n ]\n}\n')),Object(i.b)("p",null,"In case the parameter value is malformed (not in zulu expected format) the following response is returned:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "exec_time parsing error",\n   "code": "400",\n   "details": "Error parsing date string %s please use zulu format like 2006-01-02T15:04:05Z"\n  }\n ]\n}\n')),Object(i.b)("a",{id:"4"}),Object(i.b)("h3",{id:"granularity"},Object(i.b)("inlineCode",{parentName:"h3"},"granularity")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"granularity")," query parameter is used ",Object(i.b)("em",{parentName:"p"},"optionally")," under the ",Object(i.b)("inlineCode",{parentName:"p"},"/results")," resource to indicate the granularity level. It's value may be either monthly or daily. If not set by the user ",Object(i.b)("inlineCode",{parentName:"p"},"monthly")," is used."),Object(i.b)("p",null,"In case the parameter value is malformed (neither ",Object(i.b)("inlineCode",{parentName:"p"},"daily")," nor ",Object(i.b)("inlineCode",{parentName:"p"},"monthly"),") the following response is returned:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "Wrong Granularity",\n   "code": "400",\n   "details": "%s is not accepted as granularity parameter, please provide either daily or monthly"\n  }\n ]\n}\n')),Object(i.b)("p",null,"The Granularity parameter is only relevant for a/r result requests. For status requests granularity is not supported. In order to avoid confusion, if a user provides granularity parameter during status requests the following response is returned:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "Granularity parameter should not be used in status results",\n   "code": "400",\n   "details": "Granularity parameter is valid only for a/r result requests, not for status results"\n  }\n ]\n}\n')),Object(i.b)("h2",{id:"headers-validations"},"Headers validations"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"Name"),Object(i.b)("th",{parentName:"tr",align:null},"Affected Resources"),Object(i.b)("th",{parentName:"tr",align:null},"Shortcut"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"Accept")),Object(i.b)("td",{parentName:"tr",align:null},"All"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("a",{parentName:"td",href:"#5"},"Description"))))),Object(i.b)("a",{id:"5"}),Object(i.b)("h3",{id:"accept"},Object(i.b)("inlineCode",{parentName:"h3"},"Accept")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"Accept")," header is compulsory to use under all api resources. Its value may be either ",Object(i.b)("inlineCode",{parentName:"p"},"application/json")," or ",Object(i.b)("inlineCode",{parentName:"p"},"application/xml"),"."),Object(i.b)("p",null,"In case the Accept header is not provided or is provided but is malformed the following error response is returned by the api:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Not Acceptable Content Type",\n  "code": "406",\n  "details": "Accept header provided did not contain any valid content types. Acceptable content types are \'application/xml\' and \'application/json\'"\n }\n}\n')))}b.isMDXComponent=!0},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),d=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},b=function(e){var t=d(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),b=d(n),u=a,m=b["".concat(l,".").concat(u)]||b[u]||p[u]||i;return n?r.a.createElement(m,s(s({ref:t},c),{},{components:n})):r.a.createElement(m,s({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=u;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var c=2;c<i;c++)l[c]=n[c];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);