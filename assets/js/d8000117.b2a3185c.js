"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[549],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>c});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),d=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=d(n),c=r,k=m["".concat(o,".").concat(c)]||m[c]||u[c]||i;return n?a.createElement(k,l(l({ref:t},p),{},{components:n})):a.createElement(k,l({ref:t},p))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var d=2;d<i;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4472:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var a=n(7462),r=(n(7294),n(3905));const i={id:"validations",title:"API Validations",sidebar_position:2},l=void 0,s={unversionedId:"validation_and_errors/validations",id:"validation_and_errors/validations",title:"API Validations",description:"Parameters validations",source:"@site/docs/validation_and_errors/validations.md",sourceDirName:"validation_and_errors",slug:"/validation_and_errors/validations",permalink:"/argo-web-api/docs/validation_and_errors/validations",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"validations",title:"API Validations",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"API Errors",permalink:"/argo-web-api/docs/validation_and_errors/errors"},next:{title:"API Version 3",permalink:"/argo-web-api/docs/category/api-version-3"}},o={},d=[{value:"Parameters validations",id:"parameters-validations",level:2},{value:"<code>start_time</code>",id:"start_time",level:3},{value:"<code>end_time</code>",id:"end_time",level:3},{value:"No time span set",id:"no-time-span-set",level:4},{value:"<code>exec_time</code>",id:"exec_time",level:3},{value:"<code>granularity</code>",id:"granularity",level:3},{value:"Headers validations",id:"headers-validations",level:2},{value:"<code>Accept</code>",id:"accept",level:3}],p={toc:d};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"parameters-validations"},"Parameters validations"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Affected Resources"),(0,r.kt)("th",{parentName:"tr",align:null},"Verb"),(0,r.kt)("th",{parentName:"tr",align:null},"Shortcut"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"start_time")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/results"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"/status")),(0,r.kt)("td",{parentName:"tr",align:null},"GET"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#1"},"Description"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"end_time")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/results"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"/status")),(0,r.kt)("td",{parentName:"tr",align:null},"GET"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#2"},"Description"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"exec_time")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/metric_result")),(0,r.kt)("td",{parentName:"tr",align:null},"GET"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#3"},"Description"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"granularity")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/results")),(0,r.kt)("td",{parentName:"tr",align:null},"GET"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#4"},"Description"))))),(0,r.kt)("a",{id:"1"}),(0,r.kt)("h3",{id:"start_time"},(0,r.kt)("inlineCode",{parentName:"h3"},"start_time")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"start_time")," query parameter is used under the ",(0,r.kt)("inlineCode",{parentName:"p"},"/results")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"/status")," resources to define the starting time of the query used to match A/R or status results respectively. The value should be given in zulu format like so: ",(0,r.kt)("inlineCode",{parentName:"p"},"2006-01-02T15:04:05Z"),"."),(0,r.kt)("p",null,"In case the parameter is not provided the following response is returned"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "start_time not set",\n   "code": "400",\n   "details": "Please use start_time url parameter in zulu format (like 2006-01-02T15:04:05Z) to indicate the query start time"\n  }\n ]\n}\n')),(0,r.kt)("p",null,"In case the parameter value is malformed (not in zulu expected format) the following response is returned:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "start_time parsing error",\n   "code": "400",\n   "details": "Error parsing date string %s please use zulu format like 2006-01-02T15:04:05Z"\n  }\n ]\n}\n')),(0,r.kt)("a",{id:"2"}),(0,r.kt)("h3",{id:"end_time"},(0,r.kt)("inlineCode",{parentName:"h3"},"end_time")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"end_time")," query parameter is used under the ",(0,r.kt)("inlineCode",{parentName:"p"},"/results")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"/status")," resources to define the ending time of the query used to match A/R or status results respectively. The value should be given in zulu format like so: ",(0,r.kt)("inlineCode",{parentName:"p"},"2006-01-02T15:04:05Z"),"."),(0,r.kt)("p",null,"In case the parameter is not provided the following response is returned"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "end_time not set",\n   "code": "400",\n   "details": "Please use end_time url parameter in zulu format (like 2006-01-02T15:04:05Z) to indicate the query end time"\n  }\n ]\n}\n')),(0,r.kt)("p",null,"In case the parameter value is malformed (not in zulu expected format) the following response is returned:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "end_time parsing error",\n   "code": "400",\n   "details": "Error parsing date string %s please use zulu format like 2006-01-02T15:04:05Z"\n  }\n ]\n}\n')),(0,r.kt)("h4",{id:"no-time-span-set"},"No time span set"),(0,r.kt)("p",null,"In case neither the ",(0,r.kt)("inlineCode",{parentName:"p"},"start_time")," nor the ",(0,r.kt)("inlineCode",{parentName:"p"},"end_time")," parameters are defined the following response is returned by the api:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "No time span set",\n   "code": "400",\n   "details": "Please use start_time and end_time url parameters to set the prefered time span"\n  }\n ]\n}\n')),(0,r.kt)("a",{id:"3"}),(0,r.kt)("h3",{id:"exec_time"},(0,r.kt)("inlineCode",{parentName:"h3"},"exec_time")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"exec_time")," query parameter is used under the ",(0,r.kt)("inlineCode",{parentName:"p"},"/metric_result")," resource to define the execution time of the metric result to fetch from the datastore. The value should be given in zulu format like so: ",(0,r.kt)("inlineCode",{parentName:"p"},"2006-01-02T15:04:05Z"),"."),(0,r.kt)("p",null,"In case the parameter is not provided the following response is returned"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "exec_time not set",\n   "code": "400",\n   "details": "Please use exec_time url parameter in zulu format (like 2006-01-02T15:04:05Z) to indicate the exact probe execution time"\n  }\n ]\n}\n')),(0,r.kt)("p",null,"In case the parameter value is malformed (not in zulu expected format) the following response is returned:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "exec_time parsing error",\n   "code": "400",\n   "details": "Error parsing date string %s please use zulu format like 2006-01-02T15:04:05Z"\n  }\n ]\n}\n')),(0,r.kt)("a",{id:"4"}),(0,r.kt)("h3",{id:"granularity"},(0,r.kt)("inlineCode",{parentName:"h3"},"granularity")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"granularity")," query parameter is used ",(0,r.kt)("em",{parentName:"p"},"optionally")," under the ",(0,r.kt)("inlineCode",{parentName:"p"},"/results")," resource to indicate the granularity level. It's value may be either monthly or daily. If not set by the user ",(0,r.kt)("inlineCode",{parentName:"p"},"monthly")," is used."),(0,r.kt)("p",null,"In case the parameter value is malformed (neither ",(0,r.kt)("inlineCode",{parentName:"p"},"daily"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"monthly")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"custom"),") the following response is returned:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "Wrong Granularity",\n   "code": "400",\n   "details": "%s is not accepted as granularity parameter, please provide either daily, monthly or custom"\n  }\n ]\n}\n')),(0,r.kt)("p",null,"The Granularity parameter is only relevant for a/r result requests. For status requests granularity is not supported. In order to avoid confusion, if a user provides granularity parameter during status requests the following response is returned:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Bad Request",\n  "code": "400"\n },\n "errors": [\n  {\n   "message": "Granularity parameter should not be used in status results",\n   "code": "400",\n   "details": "Granularity parameter is valid only for a/r result requests, not for status results"\n  }\n ]\n}\n')),(0,r.kt)("h2",{id:"headers-validations"},"Headers validations"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Affected Resources"),(0,r.kt)("th",{parentName:"tr",align:null},"Shortcut"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Accept")),(0,r.kt)("td",{parentName:"tr",align:null},"All"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#5"},"Description"))))),(0,r.kt)("a",{id:"5"}),(0,r.kt)("h3",{id:"accept"},(0,r.kt)("inlineCode",{parentName:"h3"},"Accept")),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Accept")," header is compulsory to use under all api resources. Its value may be either ",(0,r.kt)("inlineCode",{parentName:"p"},"application/json")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"application/xml"),"."),(0,r.kt)("p",null,"In case the Accept header is not provided or is provided but is malformed the following error response is returned by the api:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n "status": {\n  "message": "Not Acceptable Content Type",\n  "code": "406",\n  "details": "Accept header provided did not contain any valid content types. Acceptable content types are \'application/xml\' and \'application/json\'"\n }\n}\n')))}u.isMDXComponent=!0}}]);