"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2622],{9632:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=t(4848),r=t(8453);const i={id:"reports",title:"Reports",sidebar_position:5},a=void 0,o={id:"profiles_and_reports/reports",title:"Reports",description:"API Calls",source:"@site/docs/profiles_and_reports/reports.md",sourceDirName:"profiles_and_reports",slug:"/profiles_and_reports/reports",permalink:"/argo-web-api/docs/profiles_and_reports/reports",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"reports",title:"Reports",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Threshold Profiles",permalink:"/argo-web-api/docs/profiles_and_reports/threshold_profiles"},next:{title:"Results",permalink:"/argo-web-api/docs/category/results"}},d={},l=[{value:"API Calls",id:"api-calls",level:2},{value:"[GET]: List Reports",id:"1",level:2},{value:"Input",id:"input",level:3},{value:"URL",id:"url",level:4},{value:"Request headers",id:"request-headers",level:4},{value:"Response",id:"response",level:3},{value:"Response body",id:"response-body",level:4},{value:"[POST]: Create a new report",id:"2",level:2},{value:"Input",id:"input-1",level:3},{value:"URL",id:"url-1",level:4},{value:"Request headers",id:"request-headers-1",level:4},{value:"Request Body",id:"request-body",level:4},{value:"Response",id:"response-1",level:3},{value:"Response Body",id:"response-body-1",level:4},{value:"[PUT]: Update an existing report",id:"3",level:2},{value:"Input",id:"input-2",level:3},{value:"URL",id:"url-2",level:4},{value:"Request headers",id:"request-headers-2",level:4},{value:"Request Body",id:"request-body-1",level:4},{value:"Response",id:"response-2",level:3},{value:"Response Body",id:"response-body-2",level:4},{value:"[DELETE]: Delete an existing report",id:"4",level:2},{value:"Input",id:"input-3",level:3},{value:"URL",id:"url-3",level:4},{value:"Request headers",id:"request-headers-3",level:4},{value:"Response",id:"response-3",level:3},{value:"Response Body",id:"response-body-3",level:4},{value:"Notes on Report Filter tags and topology",id:"5",level:2},{value:"Notes on Optional profile references",id:"6",level:2},{value:"Notes on Computations field",id:"7",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"api-calls",children:"API Calls"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Name"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Shortcut"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"GET: List reports or single report"}),(0,s.jsx)(n.td,{children:"This method can be used to retrieve a list of existing reports"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#1",children:" Description"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"POST: Create a new report"}),(0,s.jsx)(n.td,{children:"This method can be used to create a new report."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#2",children:" Description"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"PUT: Update an existing report"}),(0,s.jsx)(n.td,{children:"This method can be used to update an existing report."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#3",children:" Description"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"DELETE: Delete an existing Report"}),(0,s.jsx)(n.td,{children:"This method can be used to delete an existing report."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"#4",children:" Description"})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"1",children:"[GET]: List Reports"}),"\n",(0,s.jsx)(n.p,{children:"This method can be used to retrieve a list of existing reports or a single report according to its ID."}),"\n",(0,s.jsx)(n.h3,{id:"input",children:"Input"}),"\n",(0,s.jsx)(n.h4,{id:"url",children:"URL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/reports\nor\n/reports/{id}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"request-headers",children:"Request headers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,s.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,s.jsxs)(n.p,{children:["Headers: ",(0,s.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,s.jsx)(n.h4,{id:"response-body",children:"Response body"}),"\n",(0,s.jsx)(n.p,{children:"Json Response"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "id": "eba61a9e-22e9-4521-9e47-ecaa4a494364",\n            "tenant": "TenantA",\n            "disabled": false,\n            "info": {\n                "name": "Report_A",\n                "description": "report aaaaa",\n                "created": "2015-9-10 13:43:00",\n                "updated": "2015-10-11 13:43:00"\n            },\n            "computations": {\n                "ar": true,\n                "status": true,\n                "trends": [\n                              "flapping",\n                              "status",\n                              "tags"\n                          ]\n            },\n            "topology_schema": {\n                "group": {\n                    "type": "NGI",\n                    "group": {\n                        "type": "SITE"\n                    }\n                }\n            },\n            "thresholds": {\n                "availability": 80.0,\n                "reliability": 85.0,\n                "uptime": 80.0,\n                "unknown": 10.0,\n                "downtime": 10.0\n            },\n            "profiles": [\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50b",\n                    "name": "profile1",\n                    "type": "metric"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e523",\n                    "name": "profile2",\n                    "type": "operations"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50q",\n                    "name": "profile3",\n                    "type": "aggregation"\n                }\n            ],\n            "filter_tags": [\n                {\n                    "name": "name1",\n                    "value": "value1",\n                    "context": ""\n                },\n                {\n                    "name": "name2",\n                    "value": "value2",\n                    "context": ""\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"2",children:"[POST]: Create a new report"}),"\n",(0,s.jsx)(n.p,{children:"This method can be used to create a new report"}),"\n",(0,s.jsx)(n.h3,{id:"input-1",children:"Input"}),"\n",(0,s.jsx)(n.h4,{id:"url-1",children:"URL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"POST /reports\n"})}),"\n",(0,s.jsx)(n.h4,{id:"request-headers-1",children:"Request headers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,s.jsx)(n.h4,{id:"request-body",children:"Request Body"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "info": {\n        "name": "Report_A",\n        "description": "report aaaaa"\n    },\n    "topology_schema": {\n        "group": {\n            "type": "ngi",\n            "group": {\n                "type": "site"\n            }\n        }\n    },\n    "computations": {\n        "ar": true,\n        "status": true,\n        "trends": [\n                        "flapping",\n                        "status",\n                        "tags"\n                    ]\n    },\n    "thresholds": {\n        "availability": 80.0,\n        "reliability": 85.0,\n        "uptime": 80.0,\n        "unknown": 10.0,\n        "downtime": 10.0\n    },\n    "profiles": [\n        {\n            "id": "422985a7-6386-4964-bc99-5ebd5d7b0aef",\n            "type": "metric"\n        },\n        {\n            "id": "1aa74849-2310-4bbc-b63a-8995ac7888ea",\n            "type": "aggregation"\n        },\n        {\n            "id": "1eafbdd1-1bbc-4861-b849-65394840762",\n            "type": "operations"\n        }\n    ],\n    "filter_tags": [\n        {\n            "name": "production",\n            "value": "N"\n        },\n        {\n            "name": "monitored",\n            "value": "Y"\n        }\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,s.jsxs)(n.p,{children:["Headers: ",(0,s.jsx)(n.code,{children:"Status: 201 Created"})]}),"\n",(0,s.jsx)(n.h4,{id:"response-body-1",children:"Response Body"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Successfully Created Report",\n        "code": "201"\n    },\n    "data": {\n        "id": "eba61a9e-22e9-4521-9e47-ecaa4a494360",\n        "links": {\n            "self": "https://myapi.test.com/api/v2/reports/eba61a9e-22e9-4521-9e47-ecaa4a494360"\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"3",children:"[PUT]: Update an existing report"}),"\n",(0,s.jsx)(n.p,{children:"This method can be used to update an existing report. This will replace all the fields in the record so all the old fields that need to be kept must be included in the json of the update request body"}),"\n",(0,s.jsx)(n.h3,{id:"input-2",children:"Input"}),"\n",(0,s.jsx)(n.h4,{id:"url-2",children:"URL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/reports/{id}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"request-headers-2",children:"Request headers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,s.jsx)(n.h4,{id:"request-body-1",children:"Request Body"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "disabled": true,\n    "weight": "hepspec",\n    "info": {\n        "name": "newname",\n        "description": "newdescription"\n    },\n    \n    "topology_schema": {\n        "group": {\n            "type": "ngi",\n            "group": {\n                "type": "fight"\n            }\n        }\n    },\n    "thresholds": {\n        "availability": 90.0,\n        "reliability": 95.0,\n        "uptime": 90.0,\n        "unknown": 15.0,\n        "downtime": 15.0\n    },\n    "profiles": [\n        {\n            "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50b",\n            "type": "metric",\n            "name": "profile1"\n        },\n        {\n            "id": "6ac7d684-1f8e-4a02-a502-720e8f11e523",\n            "type": "operations",\n            "name": "profile2"\n        },\n        {\n            "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50bq",\n            "type": "aggregation",\n            "name": "profile3"\n        }\n    ],\n    "filter_tags": [\n        {\n            "name": "production",\n            "value": "N"\n        },\n        {\n            "name": "monitored",\n            "value": "N"\n        }\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,s.jsxs)(n.p,{children:["Headers: ",(0,s.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,s.jsx)(n.h4,{id:"response-body-2",children:"Response Body"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Report was successfully updated",\n        "code": "200"\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"4",children:"[DELETE]: Delete an existing report"}),"\n",(0,s.jsx)(n.p,{children:"This method can be used to update an existing report"}),"\n",(0,s.jsx)(n.h3,{id:"input-3",children:"Input"}),"\n",(0,s.jsx)(n.h4,{id:"url-3",children:"URL"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"DELETE /reports/{id}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"request-headers-3",children:"Request headers"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,s.jsx)(n.h3,{id:"response-3",children:"Response"}),"\n",(0,s.jsxs)(n.p,{children:["Headers: ",(0,s.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,s.jsx)(n.h4,{id:"response-body-3",children:"Response Body"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Report was successfully deleted",\n        "code": "200"\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"5",children:"Notes on Report Filter tags and topology"}),"\n",(0,s.jsxs)(n.p,{children:["As we seen before a report can host a list of filter tags using the following list under the filed ",(0,s.jsx)(n.code,{children:"filter_tags"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "filter_tags": [\n        {\n            "context": "a context description to define where the filter applies",\n            "name": "what to be filter",\n            "value": "filter pattern described here"\n        }\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"There are special argo contexts that are automatically picked up to filter group and endpoint topology. These contexts are described below:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"context:"})," ",(0,s.jsx)(n.code,{children:"argo.group.filter.fields"})," - Used to apply filter on basic fields of group topology. Under this context the ",(0,s.jsx)(n.code,{children:"name"})," targets the group field name and the ",(0,s.jsx)(n.code,{children:"value"})," holds the actual field pattern"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"context:"})," ",(0,s.jsx)(n.code,{children:"argo.group.filter.tags"})," - Used to apply filter on tags of group topology. Under this context the ",(0,s.jsx)(n.code,{children:"name"})," targets the group tag name and the ",(0,s.jsx)(n.code,{children:"value"})," holds the actual field pattern"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"context:"})," ",(0,s.jsx)(n.code,{children:"argo.group.filter.tags.array"})," - Used to apply filter, containing a list of comma separated values, on tags of group topology. Under this context the ",(0,s.jsx)(n.code,{children:"name"})," targets the group tag name and the ",(0,s.jsx)(n.code,{children:"value"})," holds the actual field pattern"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"context:"})," ",(0,s.jsx)(n.code,{children:"argo.endpoint.filter.fields"})," - Used to apply filter on basic fields of endpoint topology. Under this context the ",(0,s.jsx)(n.code,{children:"name"})," targets the endpoint field name and the ",(0,s.jsx)(n.code,{children:"value"})," holds the actual field pattern"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"context:"})," ",(0,s.jsx)(n.code,{children:"argo.endpoint.filter.tags"})," - Used to apply filter on tags of endpoint topology. Under this context the ",(0,s.jsx)(n.code,{children:"name"})," targets the endpoint tag name and the ",(0,s.jsx)(n.code,{children:"value"})," holds the actual field pattern"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"context:"})," ",(0,s.jsx)(n.code,{children:"argo.endpoint.filter.tags.array"})," - Used to apply filter, containing a list of comma separated values, on tags of endpoint topology. Under this context the ",(0,s.jsx)(n.code,{children:"name"})," targets the endpoint tag name and the ",(0,s.jsx)(n.code,{children:"value"})," holds the actual field pattern"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"note"})," : You can use ",(0,s.jsx)(n.code,{children:"~"})," as a negative operator in the beginning of a filter value to exclude something: For example you can exclude endpoints with service of value ",(0,s.jsx)(n.code,{children:"SERVICE_A"})," by issuing the following filter tag in the report:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "context": "argo.endpoint.filter.fields",\n    "name": "service",\n    "value": "~SERVICE_A"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"6",children:"Notes on Optional profile references"}),"\n",(0,s.jsxs)(n.p,{children:["In the report's ",(0,s.jsx)(n.code,{children:"profiles"})," list of references, along with the mandatory ",(0,s.jsx)(n.code,{children:"metric"}),", ",(0,s.jsx)(n.code,{children:"operations"})," and ",(0,s.jsx)(n.code,{children:"aggregation"})," profiles, the user can declare references to the optionally used ",(0,s.jsx)(n.code,{children:"thresholds"})," and ",(0,s.jsx)(n.code,{children:"weights"})," profiles. User of the report must ensure that the declared reference ",(0,s.jsx)(n.code,{children:"ids"})," are legit for each corresponding profile type."]}),"\n",(0,s.jsx)(n.p,{children:"Example of report with all profile type references declared:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "id": "eba61a9e-22e9-4521-9e47-ecaa4a494364",\n            "tenant": "TenantA",\n            "disabled": false,\n            "info": {\n                "name": "Report_A",\n                "description": "report aaaaa",\n                "created": "2015-9-10 13:43:00",\n                "updated": "2015-10-11 13:43:00"\n            },\n            "topology_schema": {\n                "group": {\n                    "type": "NGI",\n                    "group": {\n                        "type": "SITE"\n                    }\n                }\n            },\n            "thresholds": {\n                "availability": 80.0,\n                "reliability": 85.0,\n                "uptime": 80.0,\n                "unknown": 10.0,\n                "downtime": 10.0\n            },\n            "profiles": [\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50b",\n                    "name": "profile1",\n                    "type": "metric"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e523",\n                    "name": "profile2",\n                    "type": "operations"\n                },\n                {\n                    "id": "6ac7d684-1f8e-4a02-a502-720e8f11e50q",\n                    "name": "profile3",\n                    "type": "aggregation"\n                },\n                {\n                    "id": "vac7d684-1f8e-4a02-a502-720e8f11e555",\n                    "name": "profile_38393",\n                    "type": "thresholds"\n                },\n                {\n                    "id": "rac65684-ff8e-5a02-6502-720e8f11e50q",\n                    "name": "profile_393",\n                    "type": "weights"\n                }\n            ],\n            "filter_tags": [\n                {\n                    "name": "name1",\n                    "value": "value1",\n                    "context": ""\n                },\n                {\n                    "name": "name2",\n                    "value": "value2",\n                    "context": ""\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"During report creation, in case of wrong profile type reference defined or wrong profile uuid the following type of error will occur as a response:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Unprocessable Entity",\n        "code": "422"\n    },\n    "errors": [\n        {\n            "message": "Profile id not found",\n            "code": "422",\n            "details": "No profile in operations_profiles was found with id 93930-wrong-id"\n        },\n        {\n            "message": "Profile type invalid",\n            "code": "422",\n            "details": "Profile type whatever_profile is invalid"\n        }\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"7",children:"Notes on Computations field"}),"\n",(0,s.jsxs)(n.p,{children:["Computations field is used per report to define what kind of computations should run per report execution. Each report can produce availability/reliability (ar) results, status timelines and specific trends such as top flapping items, top items in status Critical,Warning etc.. and also top issues reported by tags. User can specify exactly what needs to be computed when a report runs by using the special ",(0,s.jsx)(n.code,{children:"computations"})," field and define the following:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n    "computations": {\n        "ar": true,\n        "status": true,\n        "trends": [\n                        "flapping",\n                        "status",\n                        "tags"\n                    ]\n    }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This information is automatically picked up by the analytics engine and the specified computation are executed. When creating or updating a report the ",(0,s.jsx)(n.code,{children:"computations"})," field is optional. If the User omits it then the default value will include that everything should be computed."]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);