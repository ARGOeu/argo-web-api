"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2025],{8332:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>d,toc:()=>c});var t=s(4848),r=s(8453);const o={id:"topology_groups",title:"Topology Groups",sidebar_position:3},i=void 0,d={id:"topology/topology_groups",title:"Topology Groups",description:"API calls for handling topology group resources",source:"@site/docs/topology/topology_groups.md",sourceDirName:"topology",slug:"/topology/topology_groups",permalink:"/argo-web-api/docs/topology/topology_groups",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"topology_groups",title:"Topology Groups",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Topology Endpoints",permalink:"/argo-web-api/docs/topology/topology_endpoints"},next:{title:"Topology Statistics",permalink:"/argo-web-api/docs/topology/topology_stats"}},l={},c=[{value:"API calls for handling topology group resources",id:"api-calls-for-handling-topology-group-resources",level:2},{value:"POST: Create group topology for specific date",id:"1",level:2},{value:"Input",id:"input",level:3},{value:"Url Parameters",id:"url-parameters",level:4},{value:"Headers",id:"headers",level:4},{value:"POST BODY",id:"post-body",level:3},{value:"Response Code",id:"response-code",level:4},{value:"Response body",id:"response-body",level:3},{value:"409 Conflict when trying to insert a topology that already exists",id:"409-conflict-when-trying-to-insert-a-topology-that-already-exists",level:2},{value:"Response Code",id:"response-code-1",level:3},{value:"Response body",id:"response-body-1",level:3},{value:"GET: List group topology for specific date",id:"2",level:2},{value:"Input",id:"input-1",level:3},{value:"Url Parameters",id:"url-parameters-1",level:4},{value:"Headers",id:"headers-1",level:4},{value:"Example Request",id:"example-request",level:4},{value:"Response Code",id:"response-code-2",level:4},{value:"Response body",id:"response-body-2",level:3},{value:"Combined tenant example",id:"combined-tenant-example",level:3},{value:"Example Request",id:"example-request-1",level:4},{value:"Response Code",id:"response-code-3",level:4},{value:"Response body",id:"response-body-3",level:4},{value:"[DELETE]: Delete group topology for a specific date",id:"3",level:2},{value:"Input",id:"input-2",level:3},{value:"Request headers",id:"request-headers",level:4},{value:"Response",id:"response",level:3},{value:"Response body",id:"response-body-4",level:4},{value:"GET: List group topology for specific report",id:"4",level:2},{value:"Input",id:"input-3",level:3},{value:"Url Parameters",id:"url-parameters-2",level:4},{value:"Headers",id:"headers-2",level:4},{value:"Example Request",id:"example-request-2",level:4},{value:"Response Code",id:"response-code-4",level:4},{value:"Response body",id:"response-body-5",level:3}];function a(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"api-calls-for-handling-topology-group-resources",children:"API calls for handling topology group resources"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Name"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Shortcut"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"POST: Create group topology for specific date"}),(0,t.jsx)(n.td,{children:"Creates a daily group topology mapping endpoints to endpoint groups"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("a",{href:"#1",children:"Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GET: List group topology for specific date"}),(0,t.jsx)(n.td,{children:"Lists group topology for a specific date"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("a",{href:"#2",children:"Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DELETE: Delete group topology for specific date"}),(0,t.jsx)(n.td,{children:"Delete group topology items for specific date"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("a",{href:"#3",children:"Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GET: List group topology for specific report"}),(0,t.jsx)(n.td,{children:"Lists group topology for a specific report"}),(0,t.jsx)(n.td,{children:(0,t.jsx)("a",{href:"#4",children:"Description"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"1",children:"POST: Create group topology for specific date"}),"\n",(0,t.jsx)(n.p,{children:"Creates a daily group topology mapping top-level groups to subgroups"}),"\n",(0,t.jsx)(n.h3,{id:"input",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST /topology/groups?date=YYYY-MM-DD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"url-parameters",children:"Url Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Default value"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"target a specific date"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"today's date"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"headers",children:"Headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: secret_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"post-body",children:"POST BODY"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'[\n    {\n        "group": "NGIA",\n        "type": "NGIS",\n        "subgroup": "SITEA",\n        "tags": {\n            "scope": "FEDERATION",\n            "infrastructure": "Production",\n            "certification": "Certified"\n        }\n    },\n    {\n        "group": "NGIA",\n        "type": "NGIS",\n        "subgroup": "SITEB",\n        "tags": {\n            "scope": "FEDERATION",\n            "infrastructure": "Production",\n            "certification": "Certified"\n        },\n        "notifications": {\n                "contacts": ["email01@example.com"],\n                "enabled": true\n        }\n    },\n    {\n        "group": "PROJECTZ",\n        "type": "PROJECT",\n        "subgroup": "SITEZ",\n        "tags": {\n            "scope": "FEDERATION",\n            "infrastructure": "Production",\n            "certification": "Certified"\n        }\n    }\n]\n'})}),"\n",(0,t.jsx)(n.h4,{id:"response-code",children:"Response Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Status: 201 OK Created\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-body",children:"Response body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "message": "Topology of 3 groups created for date: YYYY-MM-DD",\n    "code": "201"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"409-conflict-when-trying-to-insert-a-topology-that-already-exists",children:"409 Conflict when trying to insert a topology that already exists"}),"\n",(0,t.jsx)(n.p,{children:"When trying to insert a topology for a specific date that already exists the api will answer with the following response:"}),"\n",(0,t.jsx)(n.h3,{id:"response-code-1",children:"Response Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Status: 409 Conflict\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-body-1",children:"Response body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "message": "topology already exists for date: YYYY-MM-DD, please either update it or delete it first!",\n    "code": "409"\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"User can proceed with either updating the existing topology OR deleting before trying to create it anew"}),"\n",(0,t.jsx)(n.h2,{id:"2",children:"GET: List group topology for specific date"}),"\n",(0,t.jsx)(n.p,{children:"Lists group topology items for specific date"}),"\n",(0,t.jsx)(n.h3,{id:"input-1",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /topology/groups?date=YYYY-MM-DD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"url-parameters-1",children:"Url Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Default value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"target a specific date"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"today's date"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"group"})}),(0,t.jsx)(n.td,{children:"filter by group name"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"type"})}),(0,t.jsx)(n.td,{children:"filter by group type"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"subgroup"})}),(0,t.jsx)(n.td,{children:"filter by subgroup"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"tags"})}),(0,t.jsxs)(n.td,{children:["filter by tag key",":value"," pairs"]}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"mode"})}),(0,t.jsxs)(n.td,{children:["if stating ",(0,t.jsx)(n.code,{children:"mode=combined"})," then if the tenant has data feeds from other tenants their group topology items will be combined in the final results"]}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"empty"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"note"})," : user can use wildcard * in filters\n",(0,t.jsx)(n.em,{children:"note"})," : when using tag filters the query string must follow the pattern: ",(0,t.jsx)(n.code,{children:"?tags=key1:value1,key2:value2"}),"\n",(0,t.jsx)(n.em,{children:"note"})," : You can use ",(0,t.jsx)(n.code,{children:"~"})," as a negative operator in the beginning of a filter value to exclude something: For example you can exclude endpoints with subgroup of value ",(0,t.jsx)(n.code,{children:"GROUP_A"})," by issuing ",(0,t.jsx)(n.code,{children:"?subgroup:~SERVICE_A"})]}),"\n",(0,t.jsx)(n.h4,{id:"headers-1",children:"Headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: secret_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h4,{id:"example-request",children:"Example Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /topology/groups?date=2015-07-22\n"})}),"\n",(0,t.jsx)(n.h4,{id:"response-code-2",children:"Response Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Status: 200 OK\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-body-2",children:"Response body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "date": "2015-07-22",\n            "group": "NGIA",\n            "type": "NGIS",\n            "subgroup": "SITEA",\n            "tags": {\n                "certification": "Certified",\n                "infrastructure": "Production"\n            }\n        },\n        {\n            "date": "2015-07-22",\n            "group": "NGIA",\n            "type": "NGIS",\n            "subgroup": "SITEB",\n            "tags": {\n                "certification": "Certified",\n                "infrastructure": "Production"\n            },\n            "notifications": {\n                "contacts": ["email01@example.com"],\n                "enabled": true\n            }\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"combined-tenant-example",children:"Combined tenant example"}),"\n",(0,t.jsxs)(n.p,{children:["If the tenant is configured to receive data from other tenants in its data feeds the combined mode can be used when retrieving topology group items. In this mode the list of items is enriched with items from tenants specified in the data feeds. Items from those tenants receive an extra ",(0,t.jsx)(n.code,{children:"tenant"})," field to signify their origin. To enable the combine mode use the optional url parameter ",(0,t.jsx)(n.code,{children:"mode=combined"})]}),"\n",(0,t.jsx)(n.h4,{id:"example-request-1",children:"Example Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /topology/groups?date=2015-07-22?mode=combined\n"})}),"\n",(0,t.jsx)(n.h4,{id:"response-code-3",children:"Response Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Status: 200 OK\n"})}),"\n",(0,t.jsx)(n.h4,{id:"response-body-3",children:"Response body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "date": "2015-07-22",\n            "group": "TENANT1-NGIA",\n            "type": "NGIS",\n            "subgroup": "SITEX",\n            "tags": {\n                "certification": "Certified",\n                "infrastructure": "Production"\n            },\n            "tenant":"TENANT1"\n        },\n        {\n            "date": "2015-07-22",\n            "group": "TENANT2-NGIA",\n            "type": "NGIS",\n            "subgroup": "SITEZ",\n            "tags": {\n                "certification": "Certified",\n                "infrastructure": "Production"\n            },\n            "tenant":"TENANT2"\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"3",children:"[DELETE]: Delete group topology for a specific date"}),"\n",(0,t.jsx)(n.p,{children:"This method can be used to delete all group items contributing to the group topology of a specific date"}),"\n",(0,t.jsx)(n.h3,{id:"input-2",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"DELETE /topology/groups?date=YYYY-MM-DD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"request-headers",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nContent-Type: application/json\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body-4",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "message": "Topology of 3 groups deleted for date: 2019-12-12",\n    "code": "200"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"4",children:"GET: List group topology for specific report"}),"\n",(0,t.jsx)(n.p,{children:"Lists group topology items for specific report"}),"\n",(0,t.jsx)(n.h3,{id:"input-3",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /topology/groups/by_report/{report-name}?date=YYYY-MM-DD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"url-parameters-2",children:"Url Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Default value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"report-name"})}),(0,t.jsx)(n.td,{children:"target a specific report"}),(0,t.jsx)(n.td,{children:"YES"}),(0,t.jsx)(n.td,{children:"none"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"target a specific date"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"today's date"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"mode"})}),(0,t.jsxs)(n.td,{children:["if stating ",(0,t.jsx)(n.code,{children:"mode=combined"})," then if the tenant has data feeds from other tenants their group topology items will be combined in the final results"]}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"empty"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"headers-2",children:"Headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: secret_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h4,{id:"example-request-2",children:"Example Request"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /topology/groups/by_report/Critical?date=2015-07-22\n"})}),"\n",(0,t.jsx)(n.h4,{id:"response-code-4",children:"Response Code"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Status: 200 OK\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-body-5",children:"Response body"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "date": "2015-07-22",\n            "group": "NGIA",\n            "type": "NGIS",\n            "subgroup": "SITEA",\n            "tags": {\n                "certification": "Certified",\n                "infrastructure": "Production"\n            }\n        },\n        {\n            "date": "2015-07-22",\n            "group": "NGIA",\n            "type": "NGIS",\n            "subgroup": "SITEB",\n            "tags": {\n                "certification": "Certified",\n                "infrastructure": "Production"\n            },\n            "notifications": {\n                "contacts": ["email01@example.com"],\n                "enabled": true\n            }\n        },\n        {\n            "date": "2015-07-22",\n            "group": "NGIX",\n            "type": "NGIS",\n            "subgroup": "SITEX",\n            "tags": {\n                "certification": "Certified",\n                "infrastructure": "Production"\n            }\n        }\n    ]\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var t=s(6540);const r={},o=t.createContext(r);function i(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);