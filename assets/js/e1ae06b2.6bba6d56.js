"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9445],{4221:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var t=s(4848),i=s(8453);const r={id:"metrics",title:"Available Metrics and Tags",sidebar_position:4},d=void 0,a={id:"tenants_and_feeds/metrics",title:"Available Metrics and Tags",description:"API Calls",source:"@site/docs/tenants_and_feeds/metrics.md",sourceDirName:"tenants_and_feeds",slug:"/tenants_and_feeds/metrics",permalink:"/argo-web-api/docs/tenants_and_feeds/metrics",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"metrics",title:"Available Metrics and Tags",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Downtimes",permalink:"/argo-web-api/docs/tenants_and_feeds/downtimes"},next:{title:"Weights",permalink:"/argo-web-api/docs/tenants_and_feeds/weights"}},l={},c=[{value:"API Calls",id:"api-calls",level:2},{value:"[GET]: List Metrics (Admin)",id:"1",level:2},{value:"Input",id:"input",level:3},{value:"Request headers",id:"request-headers",level:3},{value:"Response",id:"response",level:3},{value:"Response body",id:"response-body",level:4},{value:"[PUT]: Update Metrics information",id:"2",level:2},{value:"Input",id:"input-1",level:3},{value:"PUT BODY",id:"put-body",level:4},{value:"Request headers",id:"request-headers-1",level:4},{value:"Response",id:"response-1",level:3},{value:"Response body",id:"response-body-1",level:4},{value:"[GET]: List Metrics (as a tenant user)",id:"3",level:2},{value:"Input",id:"input-2",level:3},{value:"Request headers",id:"request-headers-2",level:3},{value:"Response",id:"response-2",level:3},{value:"Response body",id:"response-body-2",level:4},{value:"[PUT]: List metrics by report (as a tenant user)",id:"4",level:2},{value:"Input",id:"input-3",level:3},{value:"Url Parameters",id:"url-parameters",level:4},{value:"Request headers",id:"request-headers-3",level:4},{value:"Response",id:"response-3",level:3},{value:"Response body",id:"response-body-3",level:4}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"api-calls",children:"API Calls"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Name"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Shortcut"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GET: List Metrics (Admin)"}),(0,t.jsx)(n.td,{children:"This method can be used to retrieve a list of all metrics"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#1",children:" Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PUT: Update Metrics (Admin)"}),(0,t.jsx)(n.td,{children:"This method can be used to update the list of metrics"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#2",children:" Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GET: List Metrics"}),(0,t.jsx)(n.td,{children:"This method can be used to retrieve a list of metrics (as a tenant user)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#3",children:" Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"PUT: List Metrics by report"}),(0,t.jsx)(n.td,{children:"This method can be used to retrieve a list of metrics included in a report (as a tenant user)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#4",children:" Description"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"1",children:"[GET]: List Metrics (Admin)"}),"\n",(0,t.jsx)(n.p,{children:"This method can be used to retrieve a list of all metrics. This is an administrative method. The Metric list is common for all tenants"}),"\n",(0,t.jsx)(n.h3,{id:"input",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /admin/metrics\n"})}),"\n",(0,t.jsx)(n.h3,{id:"request-headers",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "status": {\n    "message": "Success",\n    "code": "200"\n  },\n  "data": [\n    {\n      "name": "test_metric_1",\n      "tags": [\n        "network",\n        "internal"\n      ]\n    },\n    {\n      "name": "test_metric_2",\n      "tags": [\n        "disk",\n        "agent"\n      ]\n    },\n    {\n      "name": "test_metric_3",\n      "tags": [\n        "aai"\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"2",children:"[PUT]: Update Metrics information"}),"\n",(0,t.jsx)(n.p,{children:"This method is used to update the list of metrics. This is an administrative method. The list of metrics is common for all tenants"}),"\n",(0,t.jsx)(n.h3,{id:"input-1",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"PUT /admin/metrics\n"})}),"\n",(0,t.jsx)(n.h4,{id:"put-body",children:"PUT BODY"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'  [\n  {\n    "name": "metric1",\n    "tags": [\n      "tag1",\n      "tag2"\n    ]\n  }\n]\n'})}),"\n",(0,t.jsx)(n.h4,{id:"request-headers-1",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body-1",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "status": {\n    "message": "Metrics resource succesfully updated",\n    "code": "200"\n  },\n  "data": [\n    {\n      "name": "metric1",\n      "tags": [\n        "tag1",\n        "tag2"\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"3",children:"[GET]: List Metrics (as a tenant user)"}),"\n",(0,t.jsx)(n.p,{children:"This method can be used to retrieve the list of metrics as a tenant user. The list of metrics is common for all tenants but accessible from each tenant."}),"\n",(0,t.jsx)(n.h3,{id:"input-2",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /metrics\n"})}),"\n",(0,t.jsx)(n.h3,{id:"request-headers-2",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body-2",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "status": {\n    "message": "Success",\n    "code": "200"\n  },\n  "data": [\n    {\n      "name": "test_metric_1",\n      "tags": [\n        "network",\n        "internal"\n      ]\n    },\n    {\n      "name": "test_metric_2",\n      "tags": [\n        "disk",\n        "agent"\n      ]\n    },\n    {\n      "name": "test_metric_3",\n      "tags": [\n        "aai"\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"4",children:"[PUT]: List metrics by report (as a tenant user)"}),"\n",(0,t.jsx)(n.p,{children:"This method is used to retrieve a list of metrics that are included in the metric profile of a specific report."}),"\n",(0,t.jsx)(n.h3,{id:"input-3",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"PUT /metrics/by_report/{report_name}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"url-parameters",children:"Url Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Default value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"report_name"})}),(0,t.jsx)(n.td,{children:"target a specific report"}),(0,t.jsx)(n.td,{children:"YES"}),(0,t.jsx)(n.td,{children:"none"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"target a specific date"}),(0,t.jsx)(n.td,{children:"NO"}),(0,t.jsx)(n.td,{children:"today's date"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"request-headers-3",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-3",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Some metric results have additional information regarding the specific service endpoint such as it's Url, certificate DN etc... If this information is available it will be displayed under each service endpoint along with status results. Also some metrics might have a changed status due to a defined threshold rule being applied (see more about ",(0,t.jsx)(n.a,{href:"/argo-web-api/docs/profiles_and_reports/threshold_profiles",children:"Threshold profiles"}),"). Thus they will include additional information such as the original status value (field name: ",(0,t.jsx)(n.code,{children:"original_status"}),"), the threshold rule applied (field name: ",(0,t.jsx)(n.code,{children:"threshold_rule_applied"}),") and the actual data (field name: ",(0,t.jsx)(n.code,{children:"actual_data"}),") that the rule has been applied to. For example:"]}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body-3",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n   "root": [\n     {\n       "Name": "www.example.com",\n       "info": {\n                  "Url": "https://example.com/path/to/service/check"\n               },\n       "Metrics": [\n         {\n           "Name": "httpd_check",\n           "Service": "httpd",\n           "Details": [\n             {\n               "Timestamp": "2015-06-20T12:00:00Z",\n               "Value": "OK",\n               "Summary": "httpd is ok",\n               "Message": "all checks ok"\n             },\n             {\n               "Timestamp": "2015-06-20T23:00:00Z",\n               "Value": "OK",\n               "Summary": "httpd is ok",\n               "Message": "all checks ok"\n             }\n           ]\n         },\n         {\n           "Name": "httpd_memory",\n           "Service": "httpd",\n           "Details": [\n             {\n               "Timestamp": "2015-06-20T06:00:00Z",\n               "Value": "OK",\n               "Summary": "memcheck ok",\n               "Message": "memory under 20%"\n             },\n             {\n               "Timestamp": "2015-06-20T09:00:00Z",\n               "Value": "OK",\n               "Summary": "memcheck ok",\n               "Message": "memory under 20%"\n             },\n             {\n               "Timestamp": "2015-06-20T18:00:00Z",\n               "Value": "CRITICAL",\n               "Summary": "memcheck ok",\n               "Message": "memory under 20%",\n               "original_status": "OK",\n               "threshold_rule_applied": "reserved_memory=0.1;0.1:0.2;0.2:0.5",\n               "actual_data": "reserved_memory=0.15"\n             },\n           ]\n         }\n       ]\n     }\n   ]\n }\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function d(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);