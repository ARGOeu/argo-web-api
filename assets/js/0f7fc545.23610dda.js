"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8835],{7966:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>a,toc:()=>l});var t=s(4848),i=s(8453);const d={id:"downtimes",title:"Downtimes",sidebar_position:3},r=void 0,a={id:"tenants_and_feeds/downtimes",title:"Downtimes",description:"API Calls",source:"@site/docs/tenants_and_feeds/downtimes.md",sourceDirName:"tenants_and_feeds",slug:"/tenants_and_feeds/downtimes",permalink:"/argo-web-api/docs/tenants_and_feeds/downtimes",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"downtimes",title:"Downtimes",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Feeds",permalink:"/argo-web-api/docs/tenants_and_feeds/feeds"},next:{title:"Available Metrics and Tags",permalink:"/argo-web-api/docs/tenants_and_feeds/metrics"}},o={},l=[{value:"API Calls",id:"api-calls",level:2},{value:"[GET]: List downtime resources",id:"1",level:2},{value:"Input",id:"input",level:3},{value:"Optional Query Parameters",id:"optional-query-parameters",level:4},{value:"Request headers",id:"request-headers",level:3},{value:"Response",id:"response",level:3},{value:"Response body",id:"response-body",level:4},{value:"Request downtimes and filter by severity and classification example",id:"request-downtimes-and-filter-by-severity-and-classification-example",level:3},{value:"[POST]: Create a new downtime resource",id:"2",level:2},{value:"Input",id:"input-1",level:3},{value:"Optional Query Parameters",id:"optional-query-parameters-1",level:4},{value:"Request headers",id:"request-headers-1",level:4},{value:"POST BODY",id:"post-body",level:4},{value:"Response",id:"response-1",level:3},{value:"Response body",id:"response-body-1",level:4},{value:"[DELETE]: Delete an existing downtime resource",id:"3",level:2},{value:"Input",id:"input-2",level:3},{value:"Request headers",id:"request-headers-2",level:4},{value:"Response",id:"response-2",level:3},{value:"Response body",id:"response-body-2",level:4}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"api-calls",children:"API Calls"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Name"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Shortcut"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"GET: List Downtimes resources Request"}),(0,t.jsx)(n.td,{children:"This method can be used to retrieve a list of current downtime resources per date."}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#1",children:" Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"POST: Create a new downtime resource"}),(0,t.jsx)(n.td,{children:"This method can be used to create a new downtime resource"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#2",children:" Description"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"DELETE: Delete a downtime resource"}),(0,t.jsx)(n.td,{children:"This method can be used to delete an existing downtime resource"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#3",children:" Description"})})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"1",children:"[GET]: List downtime resources"}),"\n",(0,t.jsx)(n.p,{children:"This method can be used to retrieve a list of current downtime resources per date"}),"\n",(0,t.jsx)(n.h3,{id:"input",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"GET /downtimes?date=YYYY-MM-DD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"optional-query-parameters",children:"Optional Query Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"Date to retrieve a historic version of the downtime resource. If no date parameter is provided the most current resource will be returned"}),(0,t.jsx)(n.td,{children:"NO"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"classification"})}),(0,t.jsx)(n.td,{children:"optionally filter downtimes by classification value"}),(0,t.jsx)(n.td,{children:"NO"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"severity"})}),(0,t.jsx)(n.td,{children:"optionally filter downtiumes by severity value"}),(0,t.jsx)(n.td,{children:"NO"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"request-headers",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "date": "2019-11-04",\n            "endpoints": [\n                {\n                    "hostname": "host-A",\n                    "service": "service-A",\n                    "start_time": "2019-10-11T04:00:33Z",\n                    "end_time": "2019-10-11T15:33:00Z",\n                    "description": "a simple optional description",\n                    "severity": "optional severity value like critical, warning",\n                    "classification": "optional classification value like outage, scheduled"\n                },\n                {\n                    "hostname": "host-B",\n                    "service": "service-B",\n                    "start_time": "2019-10-11T12:00:33Z",\n                    "end_time": "2019-10-11T12:33:00Z"\n                },\n                {\n                    "hostname": "host-C",\n                    "service": "service-C",\n                    "start_time": "2019-10-11T20:00:33Z",\n                    "end_time": "2019-10-11T22:15:00Z"\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"request-downtimes-and-filter-by-severity-and-classification-example",children:"Request downtimes and filter by severity and classification example"}),"\n",(0,t.jsx)(n.p,{children:"In the following example we request the downtimes for the date 2022-05-11 that are of outage severity and classified as unscheduled"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"HTTP GET /api/v2/downtimes?date=2022-05-11&severity=outage&classification=outage\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Response: ",(0,t.jsx)(n.code,{children:"200 OK"}),"\nBody:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "status": {\n        "message": "Success",\n        "code": "200"\n    },\n    "data": [\n        {\n            "date": "2022-05-11",\n            "endpoints": [\n                {\n                    "hostname": "host-A",\n                    "service": "service-A",\n                    "start_time": "2022-05-11T04:00:33Z",\n                    "end_time": "2022-05-11T15:33:00Z",\n                    "severity": "outage",\n                    "classification": "unscheduled"\n                },\n                {\n                    "hostname": "host-B",\n                    "service": "service-B",\n                    "start_time": "2022-05-11T12:00:33Z",\n                    "end_time": "2022-05-11T12:33:00Z",\n                    "severity": "outage",\n                    "classification": "unscheduled",\n                    "description": "a simple description",\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"note"}),": ",(0,t.jsx)(n.code,{children:"description"}),", ",(0,t.jsx)(n.code,{children:"severity"})," and ",(0,t.jsx)(n.code,{children:"classification"})," but quite useful to organise the kind of downtimes declared per day."]}),"\n",(0,t.jsx)(n.h2,{id:"2",children:"[POST]: Create a new downtime resource"}),"\n",(0,t.jsx)(n.p,{children:"This method can be used to insert a new downtime resource"}),"\n",(0,t.jsx)(n.h3,{id:"input-1",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"POST /downtimes?date=YYYY-MM-DD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"optional-query-parameters-1",children:"Optional Query Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Required"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"date"})}),(0,t.jsx)(n.td,{children:"Date to create a new historic version of the downtime resource. If no date parameter is provided current date will be supplied automatically"}),(0,t.jsx)(n.td,{children:"NO"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"request-headers-1",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h4,{id:"post-body",children:"POST BODY"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n    "endpoints": [\n        {\n            "hostname": "host-foo",\n            "service": "service-new-foo",\n            "start_time": "2019-10-11T23:10:00Z",\n            "end_time": "2019-10-11T23:25:00Z",\n            "classification": "unscheduled",\n            "severity": "outage",\n        },\n        {\n            "hostname": "host-bar",\n            "service": "service-new-bar",\n            "start_time": "2019-10-11T23:40:00Z",\n            "end_time": "2019-10-11T23:55:00Z",\n            "classification": "unscheduled",\n            "severity": "outage",\n        }\n    ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 201 Created"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body-1",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n "status": {\n  "message": "Downtimes set created for date: 2019-11-29",\n  "code": "201"\n }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"3",children:"[DELETE]: Delete an existing downtime resource"}),"\n",(0,t.jsx)(n.p,{children:"This method can be used to delete an existing downtime resource"}),"\n",(0,t.jsx)(n.h3,{id:"input-2",children:"Input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"DELETE /downtimes?date=YYYY-MM-DD\n"})}),"\n",(0,t.jsx)(n.h4,{id:"request-headers-2",children:"Request headers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"x-api-key: shared_key_value\nAccept: application/json\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,t.jsxs)(n.p,{children:["Headers: ",(0,t.jsx)(n.code,{children:"Status: 200 OK"})]}),"\n",(0,t.jsx)(n.h4,{id:"response-body-2",children:"Response body"}),"\n",(0,t.jsx)(n.p,{children:"Json Response"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n "status": {\n  "message": "Downtimes set deleted for date: 2019-10-11",\n  "code": "200"\n }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},d=t.createContext(i);function r(e){const n=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);